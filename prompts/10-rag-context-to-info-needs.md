---
mode: 'agent'
description: 'Сформировать инфопотребности RAG и классифицировать их по уровням когнитивной сложности'
---

# 10-rag-context-to-info-needs

<context>
Проанализировать контекст и примеры вопросов. Сформировать структурированные требования к инфопотребностям (`IN-NEED-XXX`), классифицировав их по типам сложности для обеспечения тестового покрытия.
</context>

<inputs>
- `input/01_business_context.md`
- `input/02_example_questions.md`
- Любые дополнительные файлы в `input/`
</inputs>

<outputs>
- `target/rag_dataset_spec/01_context_and_goals.md` — цели, метрики успеха, ограничения.
- `target/rag_dataset_spec/02_info_needs.md` — реестр потребностей с классификацией сложности.
- PDR: `pdrs/YYYY-MM-DDTHH-MM-SS_10-rag-context-to-info-needs.md`
</outputs>

<steps>
1) **Анализ ролей и целей:** Извлечь ключевые персоны и бизнес-цели использования RAG.

2) **Классификация вопросов (Taxonomy):** Сгруппировать примеры вопросов в `IN-NEED-XXX` и определить их тип сложности:
   - **Single-hop:** Ответ находится в одном фрагменте (Specific - факты, Abstract - саммари).
   - **Multi-hop:** Ответ требует синтеза информации из нескольких документов/фрагментов.
   - **Reasoning:** Требуется сравнение, агрегация или логический вывод.
   - **Adversarial (Состязательные):** Вопросы, на которые нет ответа, или попытки взлома (проверка на отказ).

3) **Спецификация потребностей:** Для каждого `IN-NEED-XXX` указать:
   - Роль инициатора.
   - Тип сложности (Primary Complexity Type).
   - Примеры вопросов ("Seed Questions").
   - Критичность (Must/Should) и требования к свежести.

4) **Gap-анализ:** Если во входных данных нет примеров сложных (Multi-hop) или состязательных вопросов — явно отметить это как пробел (Missing Coverage), который нужно закрыть синтетическими данными.

5) **Фиксация границ:** Описать Out-of-Scope вопросы.
</steps>

<constraints>
- Обязательно выделять категорию Adversarial/Negative вопросов (важно для метрики Faithfulness).
- Не смешивать фактологические вопросы (Single-hop) и аналитические (Reasoning) в одну группу, так как они требуют разных стратегий оценки.
</constraints>

<audit_log>
- В PDR зафиксировать: какие типы сложности обнаружены во входах, какие отсутствуют (и требуют генерации), какие допущения сделаны.
</audit_log>