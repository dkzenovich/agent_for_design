---
mode: 'agent'
description: 'PDR/ADR: фиксация продуктовой/архитектурной развилки и выбора'
---

# 30-product-decision (PM/SA)

<context>
Зафиксировать развилку, сравнить варианты и выбрать решение с последствиями.
</context>

<inputs>
- Краткое описание проблемы/развилки, ограничения и критерии выбора.
</inputs>

<outputs>
- `target/adrs/*.md` со статусом Proposed/Accepted. Структура: контекст, варианты, сравнение, решение, последствия.
</outputs>

<steps>
1) Сформулировать контекст и цели: какую проблему решаем, какие ограничения.
2) Описать 2–3 варианта (в т.ч. «ничего не делать», если релевантно).
3) Сравнить по критериям: стоимость, скорость, риски, совместимость, влияние на интеграции, эксплуатацию.
4) Рекомендация и решение: что выбираем и почему.
5) Последствия: плюсы, риски, технический долг, план миграции/обкатки.
</steps>

<constraints>
- Привязывать решение к REQ-BIZ/REQ-SYS, если возможно.
- Явно фиксировать, что произойдет с текущими потребителями (совместимость, версия, миграция).
</constraints>

<audit_log>
- Если создается/обновляется ADR/PDR в `target/adrs/`, создать `target/pdrs/YYYYMMDD-HHMM-product-decision.md`.
- Записать: входы/версии, допущения, ключевые смысловые решения (выбор варианта, критерии сравнения), измененные артефакты.
</audit_log>
